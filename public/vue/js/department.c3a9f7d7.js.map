{"version":3,"sources":["webpack:///./src/components/DeliveryDeviationCard.vue?cf35","webpack:///./src/views/Department.vue","webpack:///./src/components/DeliveryDeviationCard.vue","webpack:///./src/components/DeliveryDeviationCard.vue?51f3","webpack:///./src/views/Department.vue?b47c"],"names":["department","class","store","state","showAlerts","title","channel","navigate","departmentName","delDev","collections","collection","key","_id","collectionId","country","props","__exports__","name","components","QueueCard","Alerts","DeliveryDeviationCard","CollectionQueueCard","setup","route","router","ping","_","lastPing","getters","getVisibleCollections","length","value","params","getAbbr","push","to","from","abbr","render"],"mappings":"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","file":"js/department.c3a9f7d7.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./DeliveryDeviationCard.vue?vue&type=style&index=0&id=0ea63ac1&lang=scss&scoped=true\"","<template>\r\n  <div class=\"home\" :class=\"{showAlerts: store.state.showAlerts}\" v-if=\"department !== 'thd'\">\r\n      <Alerts v-if=\"store.state.showAlerts\" :department=\"department\" /> \r\n      <QueueCard title=\"Phone\" channel=\"PH\" :department=\"department\" @dblclick=\"navigate(departmentName, 'phone')\" />\r\n      <QueueCard title=\"Chat\" channel=\"CH\" :department=\"department\" @dblclick=\"navigate(departmentName, 'chat')\" />\r\n      <QueueCard title=\"Email\" channel=\"EM\" :department=\"department\" @dblclick=\"navigate(departmentName, 'email')\"  />\r\n      <QueueCard title=\"Action\" channel=\"AC\" :department=\"department\" @dblclick=\"navigate(departmentName, 'action')\"  />\r\n      <DeliveryDeviationCard :department=\"department\" v-show=\"delDev\" >Delivery Deviations</DeliveryDeviationCard>\r\n      <CollectionQueueCard v-for=\"collection in collections\" :key=\"collection._id\" :collectionId=\"collection._id\" />\r\n  </div>\r\n  <div class=\"home\" :class=\"{showAlerts: store.state.showAlerts}\" v-else>\r\n    <Alerts v-if=\"store.state.showAlerts\" :department=\"department\" /> \r\n    <QueueCard title=\"DK THD Phone\" channel=\"PH\" country=\"DK\" :department=\"department\" @dblclick=\"navigate(departmentName, 'phone', 'denmark')\" />\r\n    <QueueCard title=\"FI THD Phone\" channel=\"PH\" country=\"FI\" :department=\"department\" @dblclick=\"navigate(departmentName, 'phone', 'finland')\" />\r\n    <QueueCard title=\"NO THD Phone\" channel=\"PH\" country=\"NO\" :department=\"department\" @dblclick=\"navigate(departmentName, 'phone', 'norway')\" />\r\n    <QueueCard title=\"SE THD Phone\" channel=\"PH\" country=\"SE\" :department=\"department\" @dblclick=\"navigate(departmentName, 'phone', 'sweden')\" />\r\n    <CollectionQueueCard v-for=\"collection in collections\" :key=\"collection._id\" :collectionId=\"collection._id\" /> \r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {onBeforeRouteUpdate, useRoute, useRouter} from 'vue-router'\r\nimport { computed, ref, watch } from 'vue'\r\nimport { useStore } from 'vuex'\r\n// @ is an alias to /src\r\nimport QueueCard from '../components/QueueCard.vue'\r\nimport DeliveryDeviationCard from '../components/DeliveryDeviationCard.vue'\r\nimport Alerts from '../components/Alerts.vue'\r\nimport CollectionQueueCard from '../components/CollectionQueueCard.vue'\r\n\r\nexport default {\r\n  name: 'Home',\r\n  components: {\r\n    QueueCard, Alerts, DeliveryDeviationCard, CollectionQueueCard\r\n  },\r\n  setup() {\r\n    const route = useRoute();\r\n    const store = useStore();\r\n    const router = useRouter();\r\n    const ping = computed(_=>store.state.lastPing)\r\n    const collections = ref(store.getters.getVisibleCollections)\r\n    const delDev = ref(store.state.delDev.length > 0)\r\n\r\n    watch(ping, _=>{\r\n      collections.value = store.getters.getVisibleCollections\r\n      delDev.value = store.state.delDev.length > 0\r\n    })\r\n\r\n    const departmentName = ref(route.params.department)\r\n    let department = computed(_=> getAbbr(departmentName) )\r\n\r\n    onBeforeRouteUpdate((to, from)=>{\r\n      if ( to.params.department !== from.params.department){\r\n        departmentName.value= to.params.department\r\n        department = computed(_=> getAbbr(departmentName) )\r\n      }\r\n    })\r\n\r\n    function navigate(department, channel, country){\r\n      if (!country) router.push({name: 'Channel', params: {department, channel, country: 'all'}})\r\n      else router.push({name: 'Channel', params: {department, channel, country}})\r\n    }\r\n\r\n    return {department, departmentName, store, navigate, collections}\r\n  }\r\n}\r\n\r\nfunction getAbbr(name){\r\n    let abbr = 'na'\r\n\r\n    switch (name.value) {\r\n        case 'denmark':\r\n            abbr = 'dk'\r\n            break;\r\n        case 'finland':\r\n            abbr = 'fi'\r\n            break;\r\n        case 'norway':\r\n            abbr = 'no'\r\n            break;\r\n        case 'sweden':\r\n            abbr = 'se'\r\n            break;\r\n        case 'kitchen':\r\n            abbr = 'ki'\r\n            break;\r\n        case 'helpdesk':\r\n            abbr = 'thd'\r\n            break;\r\n        default:\r\n            break;\r\n    }\r\n    return abbr\r\n}\r\n\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\r\n</style>","<template>\r\n    <div class=\"card\">\r\n        <div class=\"card-header\">\r\n            <div class=\"flag\">        \r\n                <font-awesome-icon icon=\"truck\" />\r\n            </div>\r\n            <slot />\r\n        </div>\r\n        <DeliveryDeviationCardBody :department=\"department\" />\r\n        <div class=\"card-menu\">\r\n\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script setup>\r\nimport {useStore} from 'vuex'\r\nimport DeliveryDeviationCardBody from './cardbody/DeliveryDeviationCardBody'\r\n\r\nconst props = defineProps({department: String})\r\nconst department = props.department\r\n\r\n\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.card {\r\n    .card-header {\r\n        .icon {\r\n            &:hover, &.active {\r\n                color: $secondary-brand-color;\r\n            }\r\n            cursor: pointer;\r\n            position: absolute;\r\n            right: 0.65rem;\r\n        }\r\n        .flag {\r\n            position: absolute;\r\n            left: 0.65rem;\r\n            color: var(--iconcolor);\r\n        }\r\n        .title {\r\n            text-transform: capitalize;\r\n        }\r\n    }\r\n}\r\n</style>","import script from \"./DeliveryDeviationCard.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./DeliveryDeviationCard.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./DeliveryDeviationCard.vue?vue&type=style&index=0&id=0ea63ac1&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\node-projects\\\\cc365-DB\\\\client\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-0ea63ac1\"]])\n\nexport default __exports__","import { render } from \"./Department.vue?vue&type=template&id=02e18d0a\"\nimport script from \"./Department.vue?vue&type=script&lang=js\"\nexport * from \"./Department.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\node-projects\\\\cc365-DB\\\\client\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}