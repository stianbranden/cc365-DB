(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chat"],{"8a79":function(e,t,a){"use strict";var c=a("23e7"),n=a("e330"),s=a("06cf").f,i=a("50c4"),l=a("577e"),r=a("5a34"),b=a("1d80"),u=a("ab13"),v=a("c430"),O=n("".endsWith),o=n("".slice),j=Math.min,d=u("endsWith"),f=!v&&!d&&!!function(){var e=s(String.prototype,"endsWith");return e&&!e.writable}();c({target:"String",proto:!0,forced:!f&&!d},{endsWith:function(e){var t=l(b(this));r(e);var a=arguments.length>1?arguments[1]:void 0,c=t.length,n=void 0===a?c:j(i(a),c),s=l(e);return O?O(t,s,n):o(t,n-s.length,n)===s}})},"8df0":function(e,t,a){"use strict";a("e4f3")},"9d5e":function(e,t,a){"use strict";a.r(t);a("d3b7"),a("99af"),a("8a79"),a("b0c0");var c=a("7a23"),n=a("6c02"),s=a("1315"),i=function(e){return Object(c["D"])("data-v-7a3e2e88"),e=e(),Object(c["B"])(),e},l={key:0,class:"meta"},r={class:"flex"},b=i((function(){return Object(c["i"])("div",{class:"label"},"Language",-1)})),u={class:"value"},v={key:0,class:"flex"},O=i((function(){return Object(c["i"])("div",{class:"label"},"Agent name",-1)})),o={class:"value"},j={key:1,class:"flex"},d=i((function(){return Object(c["i"])("div",{class:"label"},"Customer email",-1)})),f={class:"value"},h={key:2,class:"flex"},m=i((function(){return Object(c["i"])("div",{class:"label"},"Customer",-1)})),g=i((function(){return Object(c["i"])("div",{class:"value"},"Anonymous",-1)})),p=[m,g],A={class:"flex"},k={key:3,class:"flex"},y={key:4,class:"flex"},T={key:1,class:"meta"},x={key:2,class:"transcript"},L={class:"message"},w={class:"info"},S={key:0,class:"sender BOT"},D={key:1,class:"sender AGENT"},N={key:2,class:"sender SYSTEM"},F={key:3,class:"sender"},G={class:"time"},I=["innerHTML"],_={setup:function(e){var t,a="/api/",i=Object(n["d"])(),m=Object(c["F"])(i.params.bot),g=Object(c["F"])(i.params.chat),_=Object(c["F"])([]),C=Object(c["F"])(),E=!0;W(),Object(c["S"])((function(e){return i.params.chat}),W);var M=function(e){var t=C.value.language_code;return"sv"===t?"Swedish":"nb"===t?"Norwegian":"da"===t?"Danish":"fi"===t?"Finnish":"Jibberish "};function W(){E&&(E=!1,g.value=i.params.chat,m.value=i.params.bot,t=setInterval(W,1e4)),fetch("".concat(a,"chattranscript/").concat(m.value,"/").concat(g.value)).then((function(e){return e.json()})).then((function(e){_.value=e.messages,C.value=e.chat,C.value.language=M(),C.value.botname="Elbot",2398===m.value&&(C.value.botname="Gigabotti"),C.value.active||clearInterval(t)}))}return function(e,t){return Object(c["A"])(),Object(c["h"])("div",null,[C.value?(Object(c["A"])(),Object(c["h"])("div",l,[Object(c["i"])("div",r,[b,Object(c["i"])("div",u,Object(c["L"])(C.value.language),1)]),C.value.context.agentDisplayName?(Object(c["A"])(),Object(c["h"])("div",v,[O,Object(c["i"])("div",o,Object(c["L"])(C.value.context.agentDisplayName),1)])):Object(c["g"])("",!0),C.value.context.takeover_email&&!C.value.context.takeover_email.endsWith("kindlyid")?(Object(c["A"])(),Object(c["h"])("div",j,[d,Object(c["i"])("div",f,Object(c["L"])(C.value.context.takeover_email),1)])):(Object(c["A"])(),Object(c["h"])("div",h,p)),Object(c["i"])("div",A,Object(c["L"])(Object(c["N"])(s["DateTime"]).fromISO(C.value.created).toFormat("DDD @TTT")),1),C.value.active?(Object(c["A"])(),Object(c["h"])("div",k," ONGOING CHAT... Transcript will refresh every 10 seconds ")):(Object(c["A"])(),Object(c["h"])("div",y," Chat completed "))])):(Object(c["A"])(),Object(c["h"])("div",T," Loading "+Object(c["L"])(g.value)+" for "+Object(c["L"])(m.value),1)),_.value.length?(Object(c["A"])(),Object(c["h"])("div",x,[(Object(c["A"])(!0),Object(c["h"])(c["a"],null,Object(c["G"])(_.value,(function(e){return Object(c["A"])(),Object(c["h"])("div",L,[Object(c["i"])("div",w,["BOT"==e.sender?(Object(c["A"])(),Object(c["h"])("div",S,Object(c["L"])(C.value.botname),1)):"AGENT"==e.sender?(Object(c["A"])(),Object(c["h"])("div",D,Object(c["L"])(e.name),1)):"SYSTEM"==e.sender?(Object(c["A"])(),Object(c["h"])("div",N,"Automatic message")):(Object(c["A"])(),Object(c["h"])("div",F,"Customer")),Object(c["i"])("div",G,Object(c["L"])(Object(c["N"])(s["DateTime"]).fromISO(e.created).toFormat("@TT")),1)]),Object(c["i"])("div",{class:Object(c["s"])(["text",e.sender]),innerHTML:e.message},null,10,I)])})),256))])):Object(c["g"])("",!0)])}}},C=(a("8df0"),a("6b0d")),E=a.n(C);const M=E()(_,[["__scopeId","data-v-7a3e2e88"]]);t["default"]=M},e4f3:function(e,t,a){}}]);
//# sourceMappingURL=chat.0aa814d7.js.map